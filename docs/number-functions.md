# 数字函数

ZParser 提供了丰富的数学计算函数，支持基础运算、三角函数、指数对数等多种数学运算。

## 函数列表

### 基础数学函数

### ABS(number)
返回数值的绝对值。

- **参数**: 
  - number: 数值
- **返回值**: 非负数值
- **示例**:
  ```java
  ABS(-2) = 2
  ABS(3.14) = 3.14
  ```

### MAX(n1, [n2, ...])
返回一组数值中的最大值。

- **参数**: 
  - n1, n2, ...: 数值列表
- **返回值**: 数值
- **示例**:
  ```java
  MAX(2, 100) = 100
  MAX(-1, -2, -3) = -1
  ```

### MIN(n1, [n2, ...])
返回一组数值中的最小值。

- **参数**: 
  - n1, n2, ...: 数值列表
- **返回值**: 数值
- **示例**:
  ```java
  MIN(2, 100) = 2
  MIN(-1, -2, -3) = -3
  ```

### CEIL(number)
将数值向上取整。

- **参数**: 
  - number: 数值
- **返回值**: 整数
- **示例**:
  ```java
  CEIL(10.12) = 11.0
  CEIL(-3.7) = -3.0
  ```

### FLOOR(number)
将数值向下取整。

- **参数**: 
  - number: 数值
- **返回值**: 整数
- **示例**:
  ```java
  FLOOR(3.89) = 3
  FLOOR(-3.1) = -4
  ```

### SUM(n1, [n2, ...])
计算一组数值的总和。

- **参数**: 
  - n1, n2, ...: 数值列表
- **返回值**: 数值
- **示例**:
  ```java
  SUM(1, 2) = 3
  SUM(1.5, 2.7, 3.2) = 7.4
  ```

### 三角函数

### SIN(angle)
计算角度的正弦值（角度用弧度表示）。

- **参数**: 
  - angle: 角度（弧度）
- **返回值**: 数值 [-1, 1]
- **示例**:
  ```java
  SIN(30) = 0.5
  ```

### COS(angle)
计算角度的余弦值（角度用弧度表示）。

- **参数**: 
  - angle: 角度（弧度）
- **返回值**: 数值 [-1, 1]
- **示例**:
  ```java
  COS(30) = 0.15
  ```

### TAN(angle)
计算角度的正切值（角度用弧度表示）。

- **参数**: 
  - angle: 角度（弧度）
- **返回值**: 数值
- **示例**:
  ```java
  TAN(45*PI()/180) = 1
  ```

### ASIN(value)
计算反正弦值。

- **参数**: 
  - value: 数值 [-1, 1]
- **返回值**: 弧度
- **示例**:
  ```java
  ASIN(-0.5) = -0.52
  ```

### ACOS(value)
计算反余弦值。

- **参数**: 
  - value: 数值 [-1, 1]
- **返回值**: 弧度
- **示例**:
  ```java
  ACOS(-0.5) = 2.09
  ```

### ATAN(value)
计算反正切值。

- **参数**: 
  - value: 数值
- **返回值**: 弧度
- **示例**:
  ```java
  ATAN(1) = 0.78
  ```

### ATAN2(y, x)
计算给定的 X 和 Y 坐标值的反正切值。

- **参数**: 
  - y: Y 坐标值
  - x: X 坐标值
- **返回值**: 弧度
- **示例**:
  ```java
  ATAN2(-1, -1) = -2.35
  ```

### 指数和对数函数

### EXP(power)
计算 e 的幂。

- **参数**: 
  - power: 指数
- **返回值**: 数值
- **示例**:
  ```java
  EXP(2) = 7.38
  ```

### LOG(number)
计算自然对数。

- **参数**: 
  - number: 正数
- **返回值**: 数值
- **示例**:
  ```java
  LOG(10) = 2.3
  ```

### POW(base, exponent)
计算幂。

- **参数**: 
  - base: 底数
  - exponent: 指数
- **返回值**: 数值
- **示例**:
  ```java
  POW(2, 3) = 8
  ```

### SQRT(number)
计算平方根。

- **参数**: 
  - number: 非负数
- **返回值**: 数值
- **示例**:
  ```java
  SQRT(4) = 2
  ```

### 其他函数

### RANDOM()
生成随机数。

- **参数**: 无
- **返回值**: [0, 1) 之间的随机数
- **示例**:
  ```java
  RANDOM() = 0.7253307323943622
  ```

## 注意事项

1. 三角函数的角度使用弧度制
2. 数值计算的精度：
   - 整数运算保持整数精度
   - 浮点数运算使用 double 精度
3. 特殊值处理：
   - 除以零会抛出异常
   - 无效的数学运算会返回 NaN
   - 某些函数有定义域限制

## 使用建议

1. 进行角度计算时注意弧度和角度的转换
2. 处理金融计算时注意使用适当的精度
3. 使用数学函数时注意参数的有效范围
4. 进行除法运算时注意除数不能为零
5. 对可能出现的特殊值做好错误处理 